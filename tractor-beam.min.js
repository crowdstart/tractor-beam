(function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];if("function"==typeof n)return void t.load(e,n);var i=t.resolve(e);if(!i)throw new Error("Failed to resolve module "+e);var r={id:e,require:t,filename:e,exports:{},loaded:!1,parent:null,children:[]},o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=r.exports,i.call(r.exports,r,r.exports,o,e),r.loaded=!0,t.cache[e]=r.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n},t.define("./Users/a_/work/tractor-beam/vendor/polyfill",function(e,t,n,i){!function(){if(!window.Directory&&"webkitdirectory"in document.createElement("input")){var e="directory",t="getFilesAndDirectories",n="isFilesAndDirectoriesSupported",i="chooseDirectory",r="/",o=function(){this.name="",this.path=r,this._children={},this._items=!1};o.prototype[t]=function(){var e=this;if(this._items){var t=function(e){if(e.isDirectory){var t=new o;return t.name=e.name,t.path=e.fullPath,t._items=e,t}return new Promise(function(t,n){e.file(function(e){t(e)},n)})};if(this.path===r){for(var n=[],i=0;i<this._items.length;i++){var s;s=this._items[i].isDirectory||this._items[i].isFile?this._items[i]:this._items[i].webkitGetAsEntry(),n.push(t(s))}return Promise.all(n)}return new Promise(function(n,i){e._items.createReader().readEntries(function(e){for(var i=[],r=0;r<e.length;r++){var o=e[r];i.push(t(o))}n(Promise.all(i))},i)})}var l=[];for(var u in this._children)l.push(this._children[u]);return Promise.resolve(l)},HTMLInputElement.prototype[t]=function(){return Promise.resolve([])},HTMLInputElement.prototype[n]=-1!==navigator.appVersion.indexOf("Mac"),HTMLInputElement.prototype[e]=void 0,HTMLInputElement.prototype[i]=void 0,window.Directory=o;var s=function(e){for(var n=function(e,t,i,s){var l=t.split(r),u=l.shift();if(l.length>0){var a=new o;a.name=u,a.path=r+i,e._children[a.name]||(e._children[a.name]=a),n(e._children[a.name],l.join(r),i,s)}else e._children[s.name]=s},s=0;s<e.length;s++){var l=e[s];if("INPUT"===l.tagName&&"file"===l.type){l.hasAttribute("multiple")||l.setAttribute("multiple","");var u=l.createShadowRoot();l[i]=function(){console.log("This is unsupported. For security reasons the dialog cannot be triggered unless it is a response to some user triggered event such as a click on some other element.")},u.innerHTML='<div style="border: 1px solid #999; padding: 3px; width: 235px; box-sizing: content-box; font-size: 14px; height: 21px;"><div id="fileButtons" style="box-sizing: content-box;"><button id="button1" style="width: 100px; box-sizing: content-box;">Choose file(s)...</button><button id="button2" style="width: 100px; box-sizing: content-box; margin-left: 3px;">Choose folder...</button></div><div id="filesChosen" style="padding: 3px; display: none; box-sizing: content-box;"><span id="filesChosenText">files selected...</span><a id="clear" title="Clear selection" href="javascript:;" style="text-decoration: none; float: right; margin: -3px -1px 0 0; padding: 3px; font-weight: bold; font-size: 16px; color:#999; box-sizing: content-box;">&times;</a></div></div><input id="input1" type="file" multiple style="display: none;"><input id="input2" type="file" webkitdirectory style="display: none;"></div>',u.querySelector("#button1").onclick=function(e){e.preventDefault(),u.querySelector("#input1").click()},u.querySelector("#button2").onclick=function(e){e.preventDefault(),u.querySelector("#input2").click()};var a=function(e,t){u.querySelector("#fileButtons").style.display=e?"block":"none",u.querySelector("#filesChosen").style.display=e?"none":"block",e||(u.querySelector("#filesChosenText").innerText=t+" file"+(t>1?"s":"")+" selected...")},c=!1,p=function(){var e=l.files;return c?(e=l.webkitEntries,c=!1):0===e.length&&(e=l.shadowRoot.querySelector("#input1").files,0===e.length&&(e=l.shadowRoot.querySelector("#input2").files,0===e.length&&(e=l.webkitEntries))),e},d=function(e){l.dispatchEvent(new Event("change")),a(!1,p().length)};u.querySelector("#input1").onchange=u.querySelector("#input2").onchange=d;var h=function(e){a(!0);var t=document.createElement("form");l.parentNode.insertBefore(t,l),l.parentNode.removeChild(l),t.appendChild(l),t.reset(),t.parentNode.insertBefore(l,t),t.parentNode.removeChild(t),setTimeout(function(){l.dispatchEvent(new Event("change"))},1)};u.querySelector("#clear").onclick=h,l.addEventListener("drop",function(e){c=!0},!1),l.addEventListener("change",function(){var e=new o,i=p();if(i.length>0)if(a(!1,i.length),i[0].isFile||i[0].isDirectory)e._items=i;else for(var s=0;s<i.length;s++){var l=i[s],u=l.webkitRelativePath,c=u.substring(0,u.lastIndexOf(r));n(e,u,c,l)}else a(!0,i.length);this[t]=function(){return e[t]()}})}}};document.addEventListener("DOMContentLoaded",function(e){s(document.getElementsByTagName("input"))});var l=new MutationObserver(function(e,t){for(var n=0;n<e.length;n++)e[n].addedNodes.length>0&&s(e[n].addedNodes)});l.observe(document.body,{childList:!0,subtree:!0});var u=Element.prototype.addEventListener;DataTransfer.prototype[t]=function(){return Promise.resolve([])},Element.prototype.addEventListener=function(e,n,i){if("drop"===e){var r=n;n=function(e){var n=new o;n._items=e.dataTransfer.items,e.dataTransfer[t]=function(){return n[t]()},r(e)}}return u.apply(this,arguments)}}}()}),t.define("./event-emitter",function(e,t,n,i){var r,o=[].slice;r=function(){function e(e){var t;null==e&&(e={}),this.debug=null!=(t=e.debug)?t:!1,this._listeners={},this._allListeners=[]}return e.prototype.on=function(e,t){var n;return e?(null==(n=this._listeners)[e]&&(n[e]=[]),this._listeners[e].push(t),this._listeners[e].length-1):(this._allListeners.push(t),this._allListeners.length-1)},e.prototype.off=function(e,t){return e?void(null!=t?this._listeners[e][t]=null:this._listeners[e]={}):this._listeners={}},e.prototype.emit=function(){var e,t,n,i,r,s,l,u,a;for(t=arguments[0],e=2<=arguments.length?o.call(arguments,1):[],u=this._listeners[t]||[],n=0,r=u.length;r>n;n++)l=u[n],null!=l&&l.apply(this,e);for(e.unshift(t),a=this._allListeners,i=0,s=a.length;s>i;i++)l=a[i],l.apply(this,e);return this.debug?console.log.apply(console,e):void 0},e}(),e.exports=r}),t.define("./tractor-beam",function(e,n,i,r){var o,s,l=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;t("./Users/a_/work/tractor-beam/vendor/polyfill"),o=t("./event-emitter"),s=function(e){function t(e,n){this.selector=e,this.options=null!=n?n:{},this.el=document.querySelector(this.selector),this.queue=[],this.bind(),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.bind=function(){return this.el.addEventListener("change",function(e){return function(t){return e.change(t)}}(this)),this.el.addEventListener("dragleave",function(e){return function(t){return e.dragHover(t)}}(this)),this.el.addEventListener("dragover",function(e){return function(t){return e.dragHover(t)}}(this)),this.el.addEventListener("drop",function(e){return function(t){return e.drop(t)}}(this)),this.on("upload",function(e){var t,n,i,r,o;if(null!=this.options.postPath){for(o=[],n=0,i=e.length;i>n;n++)t=e[n],r="function"==typeof this.options.postPath?this.options.postPath(t):this.options.postPath,o.push(console.log(t));return o}})},t.prototype.change=function(){null!=this.getFilesAndDirectories&&(this.queue=[],this.getFilesAndDirectories().then(function(e){return function(t){e.iterateFilesAndDirs(t,"/")}}(this)))},t.prototype.dragHover=function(e){e.stopPropagation(),e.preventDefault()},t.prototype.drop=function(e){return e.stopPropagation(),e.preventDefault(),null!=e.dataTransfer.getFilesAndDirectories?e.dataTransfer.getFilesAndDirectories().then(function(e){return function(t){return console.log(t),e.iterateFilesAndDirs(t,"/")}}(this)):void 0},t.prototype.iterateFilesAndDirs=function(e,t){var n,i,r,o,s;if(0===e.length)return void this.emit("upload",this.queue);for(s=[],r=0,o=e.length;o>r;r++)n=e[r],"function"==typeof n.getFilesAndDirectories?(t=n.path,s.push(n.getFilesAndDirectories().then(function(e){return function(n){e.iterateFilesAndDirs(n,t)}}(this)))):(i={fd:n,path:t},this.emit("file",i),s.push(this.queue.push(i)));return s},t}(o),e.exports=s}),t("./tractor-beam")}).call(this,this);