(function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];if("function"==typeof n)return void t.load(e,n);var i=t.resolve(e);if(!i)throw new Error("Failed to resolve module "+e);var r={id:e,require:t,filename:e,exports:{},loaded:!1,parent:null,children:[]},o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=r.exports,i.call(r.exports,r,r.exports,o,e),r.loaded=!0,t.cache[e]=r.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n},t.define("./Users/a_/work/tractor-beam/vendor/polyfill",function(e,t,n,i){!function(){if(!window.Directory&&"webkitdirectory"in document.createElement("input")){var e="directory",t="getFilesAndDirectories",n="isFilesAndDirectoriesSupported",i="chooseDirectory",r="/",o=function(){this.name="",this.path=r,this._children={},this._items=!1};o.prototype[t]=function(){var e=this;if(this._items){var t=function(e){if(e.isDirectory){var t=new o;return t.name=e.name,t.path=e.fullPath,t._items=e,t}return new Promise(function(t,n){e.file(function(e){t(e)},n)})};if(this.path===r){for(var n=[],i=0;i<this._items.length;i++){var s;s=this._items[i].isDirectory||this._items[i].isFile?this._items[i]:this._items[i].webkitGetAsEntry(),n.push(t(s))}return Promise.all(n)}return new Promise(function(n,i){e._items.createReader().readEntries(function(e){for(var i=[],r=0;r<e.length;r++){var o=e[r];i.push(t(o))}n(Promise.all(i))},i)})}var l=[];for(var u in this._children)l.push(this._children[u]);return Promise.resolve(l)},HTMLInputElement.prototype[t]=function(){return Promise.resolve([])},HTMLInputElement.prototype[n]=-1!==navigator.appVersion.indexOf("Mac"),HTMLInputElement.prototype[e]=void 0,HTMLInputElement.prototype[i]=void 0,window.Directory=o;var s=function(e){for(var n=function(e,t,i,s){var l=t.split(r),u=l.shift();if(l.length>0){var c=new o;c.name=u,c.path=r+i,e._children[c.name]||(e._children[c.name]=c),n(e._children[c.name],l.join(r),i,s)}else e._children[s.name]=s},s=0;s<e.length;s++){var l=e[s];if("INPUT"===l.tagName&&"file"===l.type){l.hasAttribute("multiple")||l.setAttribute("multiple","");var u=l.createShadowRoot();l[i]=function(){console.log("This is unsupported. For security reasons the dialog cannot be triggered unless it is a response to some user triggered event such as a click on some other element.")},u.innerHTML='<div style="border: 1px solid #999; padding: 3px; width: 235px; box-sizing: content-box; font-size: 14px; height: 21px;"><div id="fileButtons" style="box-sizing: content-box;"><button id="button1" style="width: 100px; box-sizing: content-box;">Choose file(s)...</button><button id="button2" style="width: 100px; box-sizing: content-box; margin-left: 3px;">Choose folder...</button></div><div id="filesChosen" style="padding: 3px; display: none; box-sizing: content-box;"><span id="filesChosenText">files selected...</span><a id="clear" title="Clear selection" href="javascript:;" style="text-decoration: none; float: right; margin: -3px -1px 0 0; padding: 3px; font-weight: bold; font-size: 16px; color:#999; box-sizing: content-box;">&times;</a></div></div><input id="input1" type="file" multiple style="display: none;"><input id="input2" type="file" webkitdirectory style="display: none;"></div>',u.querySelector("#button1").onclick=function(e){e.preventDefault(),u.querySelector("#input1").click()},u.querySelector("#button2").onclick=function(e){e.preventDefault(),u.querySelector("#input2").click()};var c=function(e,t){u.querySelector("#fileButtons").style.display=e?"block":"none",u.querySelector("#filesChosen").style.display=e?"none":"block",e||(u.querySelector("#filesChosenText").innerText=t+" file"+(t>1?"s":"")+" selected...")},a=!1,d=function(){var e=l.files;return a?(e=l.webkitEntries,a=!1):0===e.length&&(e=l.shadowRoot.querySelector("#input1").files,0===e.length&&(e=l.shadowRoot.querySelector("#input2").files,0===e.length&&(e=l.webkitEntries))),e},f=function(e){l.dispatchEvent(new Event("change")),c(!1,d().length)};u.querySelector("#input1").onchange=u.querySelector("#input2").onchange=f;var p=function(e){c(!0);var t=document.createElement("form");l.parentNode.insertBefore(t,l),l.parentNode.removeChild(l),t.appendChild(l),t.reset(),t.parentNode.insertBefore(l,t),t.parentNode.removeChild(t),setTimeout(function(){l.dispatchEvent(new Event("change"))},1)};u.querySelector("#clear").onclick=p,l.addEventListener("drop",function(e){a=!0},!1),l.addEventListener("change",function(){var e=new o,i=d();if(i.length>0)if(c(!1,i.length),i[0].isFile||i[0].isDirectory)e._items=i;else for(var s=0;s<i.length;s++){var l=i[s],u=l.webkitRelativePath,a=u.substring(0,u.lastIndexOf(r));n(e,u,a,l)}else c(!0,i.length);this[t]=function(){return e[t]()}})}}};document.addEventListener("DOMContentLoaded",function(e){s(document.getElementsByTagName("input"))});var l=new MutationObserver(function(e,t){for(var n=0;n<e.length;n++)e[n].addedNodes.length>0&&s(e[n].addedNodes)});l.observe(document.body,{childList:!0,subtree:!0});var u=Element.prototype.addEventListener;DataTransfer.prototype[t]=function(){return Promise.resolve([])},Element.prototype.addEventListener=function(e,n,i){if("drop"===e){var r=n;n=function(e){var n=new o;n._items=e.dataTransfer.items,e.dataTransfer[t]=function(){return n[t]()},r(e)}}return u.apply(this,arguments)}}}()}),t.define("event-emitter",function(e,n,i,r){"use strict";var o,s,l,u,c,a,d,f=t("event-emitter/node_modules/d"),p=t("event-emitter/node_modules/es5-ext/object/valid-callable"),h=Function.prototype.apply,m=Function.prototype.call,v=Object.create,g=Object.defineProperty,y=Object.defineProperties,b=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};o=function(e,t){var n;return p(t),b.call(this,"__ee__")?n=this.__ee__:(n=_.value=v(null),g(this,"__ee__",_),_.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},s=function(e,t){var n,i;return p(t),i=this,o.call(this,e,n=function(){l.call(i,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},l=function(e,t){var n,i,r,o;if(p(t),!b.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(i=n[e],"object"==typeof i)for(o=0;r=i[o];++o)(r===t||r.__eeOnceListener__===t)&&(2===i.length?n[e]=i[o?0:1]:i.splice(o,1));else(i===t||i.__eeOnceListener__===t)&&delete n[e];return this},u=function(e){var t,n,i,r,o;if(b.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)h.call(i,this,o)}else switch(arguments.length){case 1:m.call(r,this);break;case 2:m.call(r,this,arguments[1]);break;case 3:m.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];h.call(r,this,o)}},c={on:o,once:s,off:l,emit:u},a={on:f(o),once:f(s),off:f(l),emit:f(u)},d=y({},a),e.exports=n=function(e){return null==e?v(d):y(Object(e),a)},n.methods=c}),t.define("event-emitter/node_modules/d",function(e,n,i,r){"use strict";var o,s=t("event-emitter/node_modules/es5-ext/object/assign"),l=t("event-emitter/node_modules/es5-ext/object/normalize-options"),u=t("event-emitter/node_modules/es5-ext/object/is-callable"),c=t("event-emitter/node_modules/es5-ext/string/#/contains");o=e.exports=function(e,t){var n,i,r,o,u;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],null==e?(n=r=!0,i=!1):(n=c.call(e,"c"),i=c.call(e,"e"),r=c.call(e,"w")),u={value:t,configurable:n,enumerable:i,writable:r},o?s(l(o),u):u},o.gs=function(e,t,n){var i,r,o,a;return"string"!=typeof e?(o=n,n=t,t=e,e=null):o=arguments[3],null==t?t=void 0:u(t)?null==n?n=void 0:u(n)||(o=n,n=void 0):(o=t,t=n=void 0),null==e?(i=!0,r=!1):(i=c.call(e,"c"),r=c.call(e,"e")),a={get:t,set:n,configurable:i,enumerable:r},o?s(l(o),a):a}}),t.define("event-emitter/node_modules/es5-ext/object/assign",function(e,n,i,r){"use strict";e.exports=t("event-emitter/node_modules/es5-ext/object/assign/is-implemented")()?Object.assign:t("event-emitter/node_modules/es5-ext/object/assign/shim")}),t.define("event-emitter/node_modules/es5-ext/object/assign/is-implemented",function(e,t,n,i){"use strict";e.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}}),t.define("event-emitter/node_modules/es5-ext/object/assign/shim",function(e,n,i,r){"use strict";var o=t("event-emitter/node_modules/es5-ext/object/keys"),s=t("event-emitter/node_modules/es5-ext/object/valid-value"),l=Math.max;e.exports=function(e,t){var n,i,r,u=l(arguments.length,2);for(e=Object(s(e)),r=function(i){try{e[i]=t[i]}catch(r){n||(n=r)}},i=1;u>i;++i)t=arguments[i],o(t).forEach(r);if(void 0!==n)throw n;return e}}),t.define("event-emitter/node_modules/es5-ext/object/keys",function(e,n,i,r){"use strict";e.exports=t("event-emitter/node_modules/es5-ext/object/keys/is-implemented")()?Object.keys:t("event-emitter/node_modules/es5-ext/object/keys/shim")}),t.define("event-emitter/node_modules/es5-ext/object/keys/is-implemented",function(e,t,n,i){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}}),t.define("event-emitter/node_modules/es5-ext/object/keys/shim",function(e,t,n,i){"use strict";var r=Object.keys;e.exports=function(e){return r(null==e?e:Object(e))}}),t.define("event-emitter/node_modules/es5-ext/object/valid-value",function(e,t,n,i){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}}),t.define("event-emitter/node_modules/es5-ext/object/normalize-options",function(e,t,n,i){"use strict";var r=Array.prototype.forEach,o=Object.create,s=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return r.call(arguments,function(e){null!=e&&s(Object(e),t)}),t}}),t.define("event-emitter/node_modules/es5-ext/object/is-callable",function(e,t,n,i){"use strict";e.exports=function(e){return"function"==typeof e}}),t.define("event-emitter/node_modules/es5-ext/string/#/contains",function(e,n,i,r){"use strict";e.exports=t("event-emitter/node_modules/es5-ext/string/#/contains/is-implemented")()?String.prototype.contains:t("event-emitter/node_modules/es5-ext/string/#/contains/shim")}),t.define("event-emitter/node_modules/es5-ext/string/#/contains/is-implemented",function(e,t,n,i){"use strict";var r="razdwatrzy";e.exports=function(){return"function"!=typeof r.contains?!1:r.contains("dwa")===!0&&r.contains("foo")===!1}}),t.define("event-emitter/node_modules/es5-ext/string/#/contains/shim",function(e,t,n,i){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}}),t.define("event-emitter/node_modules/es5-ext/object/valid-callable",function(e,t,n,i){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}}),t.define("./tractor-beam",function(e,n,i,r){var o,s,l=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;t("./Users/a_/work/tractor-beam/vendor/polyfill"),o=t("event-emitter"),s=function(e){function t(e,t){this.selector=e,this.options=null!=t?t:{},this.el=document.querySelector(this.selector),this.queue=[],this.bind()}return l(t,e),t.prototype.bind=function(){return this.el.addEventListener("change",function(e){return function(t){return e.change(t)}}(this)),this.el.addEventListener("dragleave",function(e){return function(t){return e.dragHover(t)}}(this)),this.el.addEventListener("dragover",function(e){return function(t){return e.dragHover(t)}}(this)),this.el.addEventListener("drop",function(e){return function(t){return e.drop(t)}}(this)),this.on("upload",function(e){var t,n,i,r,o;if(null!=this.options.postPath){for(o=[],n=0,i=e.length;i>n;n++)t=e[n],r="function"==typeof this.options.postPath?this.options.postPath(t):this.options.postPath,o.push(console.log(t));return o}})},t.prototype.change=function(){null!=this.getFilesAndDirectories&&(this.queue=[],this.getFilesAndDirectories().then(function(e){return function(t){e.iterateFilesAndDirs(t,"/")}}(this)))},t.prototype.dragHover=function(e){e.stopPropagation(),e.preventDefault()},t.prototype.drop=function(e){return e.stopPropagation(),e.preventDefault(),null!=e.dataTransfer.getFilesAndDirectories?e.dataTransfer.getFilesAndDirectories().then(function(e){return function(t){return console.log(t),e.iterateFilesAndDirs(t,"/")}}(this)):void 0},t.prototype.iterateFilesAndDirs=function(e,t){var n,i,r,o,s;if(0===e.length)return void this.emit("upload",this.queue);for(s=[],r=0,o=e.length;o>r;r++)n=e[r],"function"==typeof n.getFilesAndDirectories?(t=n.path,s.push(n.getFilesAndDirectories().then(function(e){return function(n){e.iterateFilesAndDirs(n,t)}}(this)))):(i={fd:n,path:t},this.emit("file",i),s.push(this.queue.push(i)));return s},t}(o),e.exports=s}),t("./tractor-beam")}).call(this,this);