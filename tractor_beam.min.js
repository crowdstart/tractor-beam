(function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];if("function"==typeof n)return void t.load(e,n);var i=t.resolve(e);if(!i)throw new Error("Failed to resolve module "+e);var o={id:e,require:t,filename:e,exports:{},loaded:!1,parent:null,children:[]},r=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=o.exports,i.call(o.exports,o,o.exports,r,e),o.loaded=!0,t.cache[e]=o.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n},t.define("./Users/a_/work/tractor-beam/lib/polyfill",function(e,t,n,i){!function(){if(!window.Directory&&"webkitdirectory"in document.createElement("input")){var e="directory",t="getFilesAndDirectories",n="isFilesAndDirectoriesSupported",i="chooseDirectory",o="/",r=function(){this.name="",this.path=o,this._children={},this._items=!1};r.prototype[t]=function(){var e=this;if(this._items){var t=function(e){if(e.isDirectory){var t=new r;return t.name=e.name,t.path=e.fullPath,t._items=e,t}return new Promise(function(t,n){e.file(function(e){t(e)},n)})};if(this.path===o){for(var n=[],i=0;i<this._items.length;i++){var s;s=this._items[i].isDirectory||this._items[i].isFile?this._items[i]:this._items[i].webkitGetAsEntry(),n.push(t(s))}return Promise.all(n)}return new Promise(function(n,i){e._items.createReader().readEntries(function(e){for(var i=[],o=0;o<e.length;o++){var r=e[o];i.push(t(r))}n(Promise.all(i))},i)})}var l=[];for(var a in this._children)l.push(this._children[a]);return Promise.resolve(l)},HTMLInputElement.prototype[t]=function(){return Promise.resolve([])},HTMLInputElement.prototype[n]=-1!==navigator.appVersion.indexOf("Mac"),HTMLInputElement.prototype[e]=void 0,HTMLInputElement.prototype[i]=void 0,window.Directory=r;var s=function(e){for(var n=function(e,t,i,s){var l=t.split(o),a=l.shift();if(l.length>0){var u=new r;u.name=a,u.path=o+i,e._children[u.name]||(e._children[u.name]=u),n(e._children[u.name],l.join(o),i,s)}else e._children[s.name]=s},s=0;s<e.length;s++){var l=e[s];if("INPUT"===l.tagName&&"file"===l.type){l.hasAttribute("multiple")||l.setAttribute("multiple","");var a=l.createShadowRoot();l[i]=function(){console.log("This is unsupported. For security reasons the dialog cannot be triggered unless it is a response to some user triggered event such as a click on some other element.")},a.innerHTML='<div style="border: 1px solid #999; padding: 3px; width: 235px; box-sizing: content-box; font-size: 14px; height: 21px;"><div id="fileButtons" style="box-sizing: content-box;"><button id="button1" style="width: 100px; box-sizing: content-box;">Choose file(s)...</button><button id="button2" style="width: 100px; box-sizing: content-box; margin-left: 3px;">Choose folder...</button></div><div id="filesChosen" style="padding: 3px; display: none; box-sizing: content-box;"><span id="filesChosenText">files selected...</span><a id="clear" title="Clear selection" href="javascript:;" style="text-decoration: none; float: right; margin: -3px -1px 0 0; padding: 3px; font-weight: bold; font-size: 16px; color:#999; box-sizing: content-box;">&times;</a></div></div><input id="input1" type="file" multiple style="display: none;"><input id="input2" type="file" webkitdirectory style="display: none;"></div>',a.querySelector("#button1").onclick=function(e){e.preventDefault(),a.querySelector("#input1").click()},a.querySelector("#button2").onclick=function(e){e.preventDefault(),a.querySelector("#input2").click()};var u=function(e,t){a.querySelector("#fileButtons").style.display=e?"block":"none",a.querySelector("#filesChosen").style.display=e?"none":"block",e||(a.querySelector("#filesChosenText").innerText=t+" file"+(t>1?"s":"")+" selected...")},c=!1,d=function(){var e=l.files;return c?(e=l.webkitEntries,c=!1):0===e.length&&(e=l.shadowRoot.querySelector("#input1").files,0===e.length&&(e=l.shadowRoot.querySelector("#input2").files,0===e.length&&(e=l.webkitEntries))),e},f=function(e){l.dispatchEvent(new Event("change")),u(!1,d().length)};a.querySelector("#input1").onchange=a.querySelector("#input2").onchange=f;var p=function(e){u(!0);var t=document.createElement("form");l.parentNode.insertBefore(t,l),l.parentNode.removeChild(l),t.appendChild(l),t.reset(),t.parentNode.insertBefore(l,t),t.parentNode.removeChild(t),setTimeout(function(){l.dispatchEvent(new Event("change"))},1)};a.querySelector("#clear").onclick=p,l.addEventListener("drop",function(e){c=!0},!1),l.addEventListener("change",function(){var e=new r,i=d();if(i.length>0)if(u(!1,i.length),i[0].isFile||i[0].isDirectory)e._items=i;else for(var s=0;s<i.length;s++){var l=i[s],a=l.webkitRelativePath,c=a.substring(0,a.lastIndexOf(o));n(e,a,c,l)}else u(!0,i.length);this[t]=function(){return e[t]()}})}}};document.addEventListener("DOMContentLoaded",function(e){s(document.getElementsByTagName("input"))});var l=new MutationObserver(function(e,t){for(var n=0;n<e.length;n++)e[n].addedNodes.length>0&&s(e[n].addedNodes)});l.observe(document.body,{childList:!0,subtree:!0});var a=Element.prototype.addEventListener;DataTransfer.prototype[t]=function(){return Promise.resolve([])},Element.prototype.addEventListener=function(e,n,i){if("drop"===e){var o=n;n=function(e){var n=new r;n._items=e.dataTransfer.items,e.dataTransfer[t]=function(){return n[t]()},o(e)}}return a.apply(this,arguments)}}}()}),t.define("event-emitter",function(e,n,i,o){"use strict";var r,s,l,a,u,c,d,f=t("event-emitter/node_modules/d"),p=t("event-emitter/node_modules/es5-ext/object/valid-callable"),h=Function.prototype.apply,m=Function.prototype.call,v=Object.create,g=Object.defineProperty,y=Object.defineProperties,b=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return p(t),b.call(this,"__ee__")?n=this.__ee__:(n=_.value=v(null),g(this,"__ee__",_),_.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},s=function(e,t){var n,i;return p(t),i=this,r.call(this,e,n=function(){l.call(i,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},l=function(e,t){var n,i,o,r;if(p(t),!b.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(i=n[e],"object"==typeof i)for(r=0;o=i[r];++r)(o===t||o.__eeOnceListener__===t)&&(2===i.length?n[e]=i[r?0:1]:i.splice(r,1));else(i===t||i.__eeOnceListener__===t)&&delete n[e];return this},a=function(e){var t,n,i,o,r;if(b.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(n=arguments.length,r=new Array(n-1),t=1;n>t;++t)r[t-1]=arguments[t];for(o=o.slice(),t=0;i=o[t];++t)h.call(i,this,r)}else switch(arguments.length){case 1:m.call(o,this);break;case 2:m.call(o,this,arguments[1]);break;case 3:m.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,r=new Array(n-1),t=1;n>t;++t)r[t-1]=arguments[t];h.call(o,this,r)}},u={on:r,once:s,off:l,emit:a},c={on:f(r),once:f(s),off:f(l),emit:f(a)},d=y({},c),e.exports=n=function(e){return null==e?v(d):y(Object(e),c)},n.methods=u}),t.define("event-emitter/node_modules/d",function(e,n,i,o){"use strict";var r,s=t("event-emitter/node_modules/es5-ext/object/assign"),l=t("event-emitter/node_modules/es5-ext/object/normalize-options"),a=t("event-emitter/node_modules/es5-ext/object/is-callable"),u=t("event-emitter/node_modules/es5-ext/string/#/contains");r=e.exports=function(e,t){var n,i,o,r,a;return arguments.length<2||"string"!=typeof e?(r=t,t=e,e=null):r=arguments[2],null==e?(n=o=!0,i=!1):(n=u.call(e,"c"),i=u.call(e,"e"),o=u.call(e,"w")),a={value:t,configurable:n,enumerable:i,writable:o},r?s(l(r),a):a},r.gs=function(e,t,n){var i,o,r,c;return"string"!=typeof e?(r=n,n=t,t=e,e=null):r=arguments[3],null==t?t=void 0:a(t)?null==n?n=void 0:a(n)||(r=n,n=void 0):(r=t,t=n=void 0),null==e?(i=!0,o=!1):(i=u.call(e,"c"),o=u.call(e,"e")),c={get:t,set:n,configurable:i,enumerable:o},r?s(l(r),c):c}}),t.define("event-emitter/node_modules/es5-ext/object/assign",function(e,n,i,o){"use strict";e.exports=t("event-emitter/node_modules/es5-ext/object/assign/is-implemented")()?Object.assign:t("event-emitter/node_modules/es5-ext/object/assign/shim")}),t.define("event-emitter/node_modules/es5-ext/object/assign/is-implemented",function(e,t,n,i){"use strict";e.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}}),t.define("event-emitter/node_modules/es5-ext/object/assign/shim",function(e,n,i,o){"use strict";var r=t("event-emitter/node_modules/es5-ext/object/keys"),s=t("event-emitter/node_modules/es5-ext/object/valid-value"),l=Math.max;e.exports=function(e,t){var n,i,o,a=l(arguments.length,2);for(e=Object(s(e)),o=function(i){try{e[i]=t[i]}catch(o){n||(n=o)}},i=1;a>i;++i)t=arguments[i],r(t).forEach(o);if(void 0!==n)throw n;return e}}),t.define("event-emitter/node_modules/es5-ext/object/keys",function(e,n,i,o){"use strict";e.exports=t("event-emitter/node_modules/es5-ext/object/keys/is-implemented")()?Object.keys:t("event-emitter/node_modules/es5-ext/object/keys/shim")}),t.define("event-emitter/node_modules/es5-ext/object/keys/is-implemented",function(e,t,n,i){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}}),t.define("event-emitter/node_modules/es5-ext/object/keys/shim",function(e,t,n,i){"use strict";var o=Object.keys;e.exports=function(e){return o(null==e?e:Object(e))}}),t.define("event-emitter/node_modules/es5-ext/object/valid-value",function(e,t,n,i){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}}),t.define("event-emitter/node_modules/es5-ext/object/normalize-options",function(e,t,n,i){"use strict";var o=Array.prototype.forEach,r=Object.create,s=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=r(null);return o.call(arguments,function(e){null!=e&&s(Object(e),t)}),t}}),t.define("event-emitter/node_modules/es5-ext/object/is-callable",function(e,t,n,i){"use strict";e.exports=function(e){return"function"==typeof e}}),t.define("event-emitter/node_modules/es5-ext/string/#/contains",function(e,n,i,o){"use strict";e.exports=t("event-emitter/node_modules/es5-ext/string/#/contains/is-implemented")()?String.prototype.contains:t("event-emitter/node_modules/es5-ext/string/#/contains/shim")}),t.define("event-emitter/node_modules/es5-ext/string/#/contains/is-implemented",function(e,t,n,i){"use strict";var o="razdwatrzy";e.exports=function(){return"function"!=typeof o.contains?!1:o.contains("dwa")===!0&&o.contains("foo")===!1}}),t.define("event-emitter/node_modules/es5-ext/string/#/contains/shim",function(e,t,n,i){"use strict";var o=String.prototype.indexOf;e.exports=function(e){return o.call(this,e,arguments[1])>-1}}),t.define("event-emitter/node_modules/es5-ext/object/valid-callable",function(e,t,n,i){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}}),t.define("./tractor_beam",function(e,n,i,o){var r,s,l=function(e,t){function n(){this.constructor=e}for(var i in t)a.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t("./Users/a_/work/tractor-beam/lib/polyfill"),r=t("event-emitter"),s=function(e){function t(e,t){var n;this.selector=e,this.options=null!=t?t:{},null==(n=this.options).type&&(n.type="fileinput"),this.el=document.querySelector(this.selector),this.bind(),this.queue=[]}return l(t,e),t.prototype.bind=function(){return this.el.addEventListener("change",this.change),this.el.addEventListener("dragleave",this.dragHover),this.el.addEventListener("dragover",this.dragHover),this.el.addEventListener("drop",this.drop),this.on("upload",function(e){var t,n,i,o,r;if(null!=this.options.postPath){for(r=[],n=0,i=e.length;i>n;n++)t=e[n],o="function"==typeof this.options.postPath?this.options.postPath(t):this.options.postPath,r.push(console.log(t));return r}})},t.prototype.change=function(){null!=this.getFilesAndDirectories&&(this.queue=[],this.getFilesAndDirectories().then(function(e){return function(t){e.iterateFilesAndDirs(t,"/")}}(this)))},t.prototype.dragHover=function(e){e.stopPropagation(),e.preventDefault(),"dragover"===e.type?e.target.className="over":e.target.className=""},t.prototype.drop=function(e){return e.stopPropagation(),e.preventDefault(),e.target.className=""},t.prototype.iterateFilesAndDirs=function(e,t){var n,i,o,r,s;if(0===e.length)return void this.emit("upload",this.queue);for(s=[],o=0,r=e.length;r>o;o++)n=e[o],"function"==typeof n.getFilesAndDirectories?(t=n.path,s.push(n.getFilesAndDirectories().then(function(e){return function(n){e.iterateFilesAndDirs(n,t)}}(this)))):(i={fd:n,path:t},this.emit("file",i),s.push(this.queue.push(i)));return s},t}(r),e.exports=s}),t("./tractor_beam")}).call(this,this);